<div class="forgot-password">
  <mat-card class="forgot-password__card">
    <div class="forgot-password__logo">
      <img
        src="assets/img/logo.svg"
        alt="Logo"
        class="forgot-password__logo-image"
      />
    </div>
    <div class="forgot-password__divider"></div>
    
    <div class="forgot-password__content">
      <form
        class="forgot-password__form"
        [formGroup]="forgotPasswordForm"
      >
        <h2
          *ngIf="!requestSent"
          class="forgot-password__heading"
        >
          Enter Email Address
        </h2>

        <h2
          *ngIf="requestSent"
          class="forgot-password__heading"
        >
          Password Change Link Sent
        </h2>

        <mat-form-field
          *ngIf="!requestSent"
          class="forgot-password__field"
          appearance="outline"
        >
          <mat-label class="forgot-password__label">
            Email Address
          </mat-label>

          <input
            matInput
            formControlName="email"
            class="forgot-password__input"
            placeholder="Email Address"
            type="text"
          />
          <mat-error
            *ngIf="forgotPasswordForm.get('email')?.invalid && !forgotPasswordForm.pristine"
            class="forgot-password__error"
          >
            Valid email is required
          </mat-error>
        </mat-form-field>

        <div class="forgot-password__actions">
          <button
            *ngIf="!isProcessing && !requestSent"
            [disabled]="!canSubmit"
            (click)="requestPasswordReset()"
            mat-raised-button
            class="forgot-password__button"
            color="primary"
            type="submit"
          >
            Submit
          </button>

          <button
            *ngIf="isProcessing"
            mat-raised-button
            type="button"
            color="primary"
            class="forgot-password__button q-forgot-password__button--processing"
            disabled
          >
            <mat-icon class="forgot-password__spinner">refresh</mat-icon>
            Processing
          </button>

          <button
            *ngIf="requestSent"
            mat-raised-button
            (click)="navigateToLogin()"
            class="forgot-password__button"
            color="primary"
            type="submit"
          >
            Return to Login
          </button>
        </div>

        <span
          *ngIf="!requestSent"
          class="forgot-password__link"
          (click)="navigateToLogin()"
        >
          Return to Login
        </span>
      </form>
    </div>
  </mat-card>
</div>



